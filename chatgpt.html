<!DOCTYPE html>
<html>
<head>
  <title>ChatGPT-3.5 Integration</title>
</head>
<body>
  <div id="chat-container">
    <div id="chat-log"></div>
    <input type="text" id="user-input" placeholder="Type your message...">
    <button id="send-button">Send</button>
  </div>

  <script>
    const apiKey = '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';

    const chatLog = document.getElementById('chat-log');
    const userInput = document.getElementById('user-input');
    const sendButton = document.getElementById('send-button');

    // Function to add a message to the chat log
    function appendMessage(message, sender) {
      const messageElement = document.createElement('div');
      messageElement.className = sender;
      messageElement.textContent = message;
      chatLog.appendChild(messageElement);
    }

    // Function to send user message to ChatGPT and display response
    async function sendMessageToChatGPT(message) {
      appendMessage(message, 'user');

      const response = await fetch('https://api.openai.com/v1/chat/completions', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'Authorization': `Bearer ${apiKey}`
        },
        body: JSON.stringify({
          messages: [
            { role: 'system', content: 'You are a helpful assistant.' },
            { role: 'user', content: message }
          ]
        })
      });

      const data = await response.json();
      const reply = data.choices[0].message.content;
      appendMessage(reply, 'assistant');
    }

    sendButton.addEventListener('click', () => {
      const userMessage = userInput.value;
      if (userMessage.trim() !== '') {
        sendMessageToChatGPT(userMessage);
        userInput.value = '';
      }
    });

    userInput.addEventListener('keydown', (event) => {
      if (event.key === 'Enter') {
        const userMessage = userInput.value;
        if (userMessage.trim() !== '') {
          sendMessageToChatGPT(userMessage);
          userInput.value = '';
        }
      }
    });
  </script>
</body>
</html>
